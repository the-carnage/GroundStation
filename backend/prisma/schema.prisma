// // prisma/schema.prisma
// generator client {
//   provider = "prisma-client-js"
// }

// datasource db {
//   provider = "mysql"
//   url      = env("DATABASE_URL")
// }

// model User {
//   id    Int     @id @default(autoincrement())
//   name  String
//   email String  @unique
// }

// model hw233Ota {
//   id          Int      @id @default(autoincrement())
//   ota_value   Int
//   ota_voltage Float
//   createdAt   DateTime @default(now())
// }
// model imu6050 {
//   id        Int      @id @default(autoincrement())
//   accel_x   Float
//   accel_y   Float
//   accel_z   Float
//   gyro_x    Float
//   gyro_y    Float
//   gyro_z    Float
//   createdAt DateTime @default(now())
// }
// model bmp280 {
//   id        Int      @id @default(autoincrement())
//   pressure  Float
//   temp      Float
//   createdAt DateTime @default(now())
// }
// model gpsModule {
//   id        Int      @id @default(autoincrement())
//   lat       Float
//   long      Float
//   sats      Int
//   createdAt DateTime @default(now())
// }
// model batteryStatus {
//   id         Int      @id @default(autoincrement())
//   voltage    Float
//   current    Float
//   percentage Int
//   createdAt  DateTime @default(now())
// }
// model escData {
//   id         Int      @id @default(autoincrement())
//   esc1_rpm   Int
//   esc2_rpm   Int
//   esc3_rpm   Int
//   esc4_rpm   Int
//   createdAt  DateTime @default(now())
// }
// model contourPlotData {
//   id        Int      @id @default(autoincrement())
//   x_value   Float
//   y_value   Float
//   z_value   Float
//   createdAt DateTime @default(now())
// }
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"      // <--- CHANGED: SQLite works inside the .exe
  url      = "file:./flight_data.db"
}

// We merge all your sensor tables into ONE high-performance log
model FlightLog {
  id          Int      @id @default(autoincrement())
  timestamp   DateTime @default(now())

  // From model hw233Ota
  ota_value   Int
  ota_voltage Float

  // From model imu6050
  accel_x     Float
  accel_y     Float
  accel_z     Float
  gyro_x      Float
  gyro_y      Float
  gyro_z      Float

  // From model bmp280
  pressure    Float
  temperature Float

  // From model gpsModule
  gps_lat     Float
  gps_long    Float  // Renamed 'long' to 'gps_long' to avoid keyword conflicts
  gps_sats    Int

  // From model batteryStatus
  batt_voltage    Float
  batt_current    Float
  batt_percentage Int

  // From model escData
  esc1_rpm    Int
  esc2_rpm    Int
  esc3_rpm    Int
  esc4_rpm    Int

  // Optimization for graphing
  @@index([timestamp])
}

// You can keep this if you use it for specific calculations
model ContourPlotData {
  id        Int      @id @default(autoincrement())
  x_value   Float
  y_value   Float
  z_value   Float
  createdAt DateTime @default(now())
}